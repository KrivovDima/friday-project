(this["webpackJsonpfriday-project"]=this["webpackJsonpfriday-project"]||[]).push([[0],{16:function(e,r,t){e.exports={wrapper:"Profile_wrapper__MdkTK",title:"Profile_title__d6ebg",userData:"Profile_userData__iEnCU",mainButton:"Profile_mainButton__1e_19"}},21:function(e,r,t){e.exports={wrapper:"checkEmail_wrapper__1kLUM",title:"checkEmail_title__pHncS",check:"checkEmail_check__3N_jl",mainButton:"checkEmail_mainButton__2xIg_",description:"checkEmail_description__wVFwY",icon:"checkEmail_icon__1JGiD"}},43:function(e,r,t){},44:function(e,r,t){},7:function(e,r,t){e.exports={wrapper:"passwordRecovery_wrapper__324Hv",title:"passwordRecovery_title__BonNo",forgot:"passwordRecovery_forgot__1dNCo",formContainer:"passwordRecovery_formContainer__VVmW6",description:"passwordRecovery_description__PgwlF",mainButton:"passwordRecovery_mainButton__2PDey",remember:"passwordRecovery_remember__18QAH",tryLogin:"passwordRecovery_tryLogin__3bYz2",error:"passwordRecovery_error__21nhZ"}},71:function(e,r,t){"use strict";t.r(r);t(0);var a=t(25),s=t.n(a),n=(t(43),t(3)),c=(t(44),t(2)),i=t(19),o=t(5),l=t(8),d=t.n(l),u=t(4),p=t.n(u),j=t(6),m=t(17),b=t.n(m),O=b.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),h=function(e){return O.post("auth/login",e)},g=function(){return O.delete("auth/me")},_={isLoggedIn:!1,userData:{_id:"",email:"",name:"",avatar:"",publicCardPacksCount:0,created:null,updated:null,isAdmin:!1,verified:!1,rememberMe:!1,error:""}},x=function(e){return{type:"SET-ERROR",payload:e}},f=t(13),v=t(1),w=function(){var e=Object(o.b)(),r=Object(o.c)((function(e){return e.login.isLoggedIn})),t=Object(o.c)((function(e){return e.login.userData.error})),a=Object(i.a)(),s=a.register,l=a.handleSubmit,u=a.formState.errors;return r?Object(v.jsx)(n.a,{to:"/profile"}):Object(v.jsxs)("div",{className:d.a.wrapper,children:[Object(v.jsx)("div",{className:d.a.title,children:"It-incubator"}),Object(v.jsx)("div",{className:d.a.signIn,children:"Sign in"}),Object(v.jsxs)("form",{className:d.a.formContainer,onSubmit:l((function(r){return e(function(e){return function(){var r=Object(j.a)(p.a.mark((function r(t){var a;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t(x({isLoggedIn:!1,error:""})),r.next=4,h(e);case 4:a=r.sent,t({type:"SET-IS-LOGGED-IN",payload:{isLoggedIn:!0,userData:Object(c.a)({},a.data)}}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),b.a.isAxiosError(r.t0)&&r.t0.response&&(t(x({isLoggedIn:!1,error:r.t0.response.data.error})),t(x({isLoggedIn:!1,error:"some error occurred"})));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(r))})),children:[Object(v.jsxs)("div",{className:d.a.inputWrapper,children:[u.email?Object(v.jsx)("span",{className:d.a.errorMassage,children:u.email.message}):Object(v.jsx)("label",{className:d.a.description,htmlFor:"email",children:"Email"}),Object(v.jsx)("input",Object(c.a)({type:"text",placeholder:"enter your e-mail"},s("email",{required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Invalid email address"}})))]}),Object(v.jsxs)("div",{className:d.a.inputWrapper,children:[u.password?Object(v.jsx)("span",{className:d.a.errorMassage,children:u.password.message}):Object(v.jsx)("label",{className:d.a.description,htmlFor:"password",children:"Password"}),Object(v.jsx)("input",Object(c.a)({type:"password",placeholder:"enter your password"},s("password",{required:!0,minLength:{value:8,message:"Password must have at least 8 characters"}})))]}),Object(v.jsx)("div",{className:d.a.rememberMeWrapper,children:Object(v.jsxs)("label",{className:d.a.rememberMe,children:[Object(v.jsx)("input",Object(c.a)({type:"checkbox",defaultChecked:!1},s("rememberMe",{required:!1}))),"Remember Me"]})}),Object(v.jsx)(f.b,{to:"/passwordRecovery",className:d.a.forgotPass,children:"Forgot Password"}),t&&Object(v.jsxs)("span",{className:"".concat(d.a.errorMassage," ").concat(d.a.serverError),children:["Connection error: ",t]}),Object(v.jsx)("button",{type:"submit",className:d.a.mainButton,children:"Login"})]}),Object(v.jsx)("span",{className:d.a.withoutAcc,children:"Don't have an account?"}),Object(v.jsx)(f.b,{to:"/registration",className:d.a.signUp,children:"Sign Up"})]})},y=t(7),N=t.n(y),R=function(e,r){return O.post("auth/forgot",{email:e,message:r})},E=function(e,r){return O.post("auth/set-new-password",{password:e,resetPasswordToken:r})},S={email:"",status:"idle",error:""},I=function(e){return{type:"SET_STATUS_PASSWORD_RECOVERY",payload:{status:e}}},T=function(e){return{type:"SET_EMAIL",payload:{email:e}}};var L=function(){var e=function(){return Object(v.jsxs)("div",{style:{backgroundColor:"lime",padding:"15px"},children:["password recovery link:",Object(v.jsx)("a",{href:"http://localhost:3000/#/set-new-password/$token$",children:"link"})]})},r=Object(o.b)(),t=Object(o.c)((function(e){return e.passwordRecovery.status})),a=Object(o.c)((function(e){return e.passwordRecovery.error})),s=Object(i.a)({mode:"onBlur"}),l=s.register,d=s.handleSubmit,u=s.formState.errors;return"succeeded"===t?Object(v.jsx)(n.a,{to:"/checkEmail"}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:N.a.wrapper,children:[Object(v.jsx)("div",{className:N.a.title,children:"It-incubator"}),Object(v.jsx)("div",{className:N.a.forgot,children:"Forgot your password?"}),Object(v.jsxs)("form",{className:N.a.formContainer,onSubmit:d((function(t){var a,s;r((a=t.email,s=e,function(){var e=Object(j.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(I("loading")),e.next=4,R(a,s);case 4:r(I("succeeded")),r(T(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b.a.isAxiosError(e.t0)&&e.t0.response&&(r(I("failed")),r({type:"SET_ERROR_PASSWORD_RECOVERY",payload:{error:e.t0.response.data.error}}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()))})),children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{className:N.a.description,htmlFor:"email",children:"Email"}),Object(v.jsx)("input",Object(c.a)({type:"text",id:"email",placeholder:"enter your e-mail"},l("email",{required:{value:!0,message:"Email is required"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Invalid email"}}))),u.email&&Object(v.jsx)("div",{className:N.a.error,children:u.email.message}),Object(v.jsx)("label",{className:N.a.description,htmlFor:"email",children:"Enter your email address and we will send you further instructions "})]}),Object(v.jsx)("div",{children:"loading"===t?"loading":""}),Object(v.jsx)("button",{className:N.a.mainButton,type:"submit",children:"Send Instructions"}),a]}),Object(v.jsx)("span",{className:N.a.remember,children:"Did you remember your password?"}),Object(v.jsx)(f.b,{to:"/login",className:N.a.tryLogin,children:"Try logging in"})]})})},k=t(21),A=t.n(k),C=t.p+"static/media/envelope-open.d47a5acf.svg",P=function(){var e=Object(o.c)((function(e){return e.passwordRecovery.email}));return Object(v.jsxs)("div",{className:A.a.wrapper,children:[Object(v.jsx)("div",{className:A.a.title,children:"It-incubator"}),Object(v.jsx)("img",{src:C,alt:"icon",className:A.a.icon}),Object(v.jsx)("div",{className:A.a.check,children:"Check Email"}),Object(v.jsxs)("span",{className:A.a.description,children:["We\u2019ve sent an Email with instructions to ",e]})]})},D=t(16),B=t.n(D),W=function(){var e=Object(o.b)(),r=Object(o.c)((function(e){return e.login.isLoggedIn})),t=Object(o.c)((function(e){return e.login.userData}));return r?Object(v.jsxs)("div",{className:B.a.wrapper,children:[Object(v.jsx)("div",{className:B.a.title,children:"Profile"}),Object(v.jsxs)("span",{className:B.a.userData,children:["User Name: ",t.name]}),Object(v.jsxs)("span",{className:B.a.userData,children:["User Email: ",t.email]}),Object(v.jsx)("span",{className:B.a.userData,children:Object(v.jsx)("img",{alt:"avatar",style:{width:"150px"},src:t.avatar})}),Object(v.jsxs)("span",{className:B.a.userData,children:["Cards Count: ",t.publicCardPacksCount]}),Object(v.jsxs)("span",{className:B.a.userData,children:["Created: ",t.created]}),Object(v.jsxs)("span",{className:B.a.userData,children:["Last Updated: ",t.updated]}),t.isAdmin&&Object(v.jsx)("span",{className:B.a.userData,children:"Administrator"}),Object(v.jsx)("button",{className:B.a.mainButton,onClick:function(){e(function(){var e=Object(j.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:r({type:"SET-IS-LOGGED-OUT",payload:{isLoggedIn:!1}});case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},children:"Logout"})]}):Object(v.jsx)(n.a,{to:"/login"})},U=t(9),M=t.n(U),G=function(e,r){return O.post("auth/register",{email:e,password:r})},q={status:"idle",error:""},F=function(e){return{type:"CHANGE-STATUS-REGISTRATION",payload:{status:e}}};var Z=function(){var e=Object(n.g)(),r=Object(o.b)(),t=Object(o.c)((function(e){return e.registration.status})),a=Object(o.c)((function(e){return e.registration.error})),s=Object(i.a)({mode:"onSubmit"}),l=s.register,d=s.handleSubmit,u=s.watch,m=s.formState.errors,O=u("password");return"succeeded"===t&&(r(F("idle")),e("/login")),Object(v.jsx)("div",{className:M.a.wrapper,children:Object(v.jsxs)("div",{className:M.a.box,children:[Object(v.jsx)("h2",{className:M.a.title,children:"It-incubator"}),Object(v.jsx)("h3",{className:M.a.subTitle,children:"Sign Up"}),Object(v.jsxs)("form",{className:M.a.form,onSubmit:d((function(e){return r((t=e.email,a=e.password,function(){var e=Object(j.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(F("loading")),e.next=4,G(t,a);case 4:r(F("succeeded")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b.a.isAxiosError(e.t0)&&e.t0.response&&(r(F("failed")),r({type:"SET-ERROR-REGISTRATION",payload:{error:e.t0.response.data.error}}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}()));var t,a})),children:[Object(v.jsxs)("div",{className:M.a.inputWrapper,children:[Object(v.jsx)("input",Object(c.a)({placeholder:"Email",className:M.a.input,type:"text"},l("email",{required:{value:!0,message:"Email is required"},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,message:"Invalid email"}}))),m.email&&Object(v.jsx)("div",{className:M.a.errorInput,children:m.email.message})]}),Object(v.jsxs)("div",{className:M.a.inputWrapper,children:[Object(v.jsx)("input",Object(c.a)({placeholder:"Password",className:M.a.input,type:"password"},l("password",{required:{value:!0,message:"Password is required"},minLength:{value:8,message:"Password must be more than 7 characters"}}))),m.password&&Object(v.jsx)("div",{className:M.a.errorInput,children:m.password.message})]}),Object(v.jsxs)("div",{className:M.a.inputWrapper,children:[Object(v.jsx)("input",Object(c.a)({placeholder:"Confirm password",className:M.a.input,type:"password"},l("confirmPassword",{required:{value:!0,message:"Confirm password is required"},validate:function(e){return e===O||"Password mismatch"}}))),m.confirmPassword&&Object(v.jsx)("div",{className:M.a.errorInput,children:m.confirmPassword.message})]}),Object(v.jsxs)("div",{className:M.a.btns,children:[Object(v.jsx)("button",{onClick:function(){e("/")},className:M.a.btn,children:"Cancel"}),Object(v.jsx)("div",{children:"loading"===t?"loading":""}),Object(v.jsx)("button",{disabled:"loading"===t,type:"submit",children:"Register"})]}),Object(v.jsx)("div",{className:M.a.errorBox,children:a})]})]})})},V={status:"idle",error:""},J=function(e){return{type:"SET_NEW_PASSWORD_STATUS",payload:{status:e}}};var Y=function(){var e=Object(n.h)().token,r=Object(o.b)(),t=Object(o.c)((function(e){return e.inputNewPassword.status})),a=Object(o.c)((function(e){return e.inputNewPassword.error})),s=Object(i.a)({mode:"onBlur"}),l=s.register,d=s.handleSubmit,u=s.formState.errors;return"succeeded"===t?Object(v.jsx)(n.a,{to:"/login"}):Object(v.jsxs)("div",{className:N.a.wrapper,children:[Object(v.jsx)("div",{className:N.a.title,children:"It-incubator"}),Object(v.jsx)("div",{className:N.a.forgot,children:"Create new password"}),Object(v.jsxs)("form",{className:N.a.formContainer,onSubmit:d((function(t){var a,s;r((a=t.password,s=e,function(){var e=Object(j.a)(p.a.mark((function e(r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(J("loading")),e.next=4,E(a,s);case 4:r(J("succeeded")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b.a.isAxiosError(e.t0)&&e.t0.response&&(r(J("failed")),r({type:"SET_ERROR",payload:{error:e.t0.response.data.error}}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}()))})),children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("input",Object(c.a)({placeholder:"Password",type:"password"},l("password",{required:{value:!0,message:"Password is required"},minLength:{value:4,message:"Password must be more than 7 characters"}}))),u.password&&Object(v.jsx)("div",{className:N.a.error,children:u.password.message}),Object(v.jsx)("label",{className:N.a.description,htmlFor:"email",children:"Create new password and we will send you further instructions to email"})]}),Object(v.jsx)("div",{children:"loading"===t?"loading":""}),Object(v.jsx)("button",{className:N.a.mainButton,type:"submit",children:"Create new password"}),a]})]})};var H=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)("div",{className:"AppInner",children:Object(v.jsxs)(n.d,{children:[Object(v.jsx)(n.b,{path:"/",element:Object(v.jsx)(w,{})}),Object(v.jsx)(n.b,{path:"login",element:Object(v.jsx)(w,{})}),Object(v.jsx)(n.b,{path:"passwordRecovery",element:Object(v.jsx)(L,{})}),Object(v.jsx)(n.b,{path:"profile",element:Object(v.jsx)(W,{})}),Object(v.jsx)(n.b,{path:"registration",element:Object(v.jsx)(Z,{})}),Object(v.jsx)(n.b,{path:"set-new-password/:token",element:Object(v.jsx)(Y,{})}),Object(v.jsx)(n.b,{path:"checkEmail",element:Object(v.jsx)(P,{})})]})})})},$=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,72)).then((function(r){var t=r.getCLS,a=r.getFID,s=r.getFCP,n=r.getLCP,c=r.getTTFB;t(e),a(e),s(e),n(e),c(e)}))},z=t(26),K=t(38),Q={},X=Object(z.b)({inputNewPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET_NEW_PASSWORD_STATUS":case"SET_ERROR":return Object(c.a)(Object(c.a)({},e),r.payload);default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET-IS-LOGGED-IN":return Object(c.a)(Object(c.a)({},e),{},{isLoggedIn:r.payload.isLoggedIn,userData:Object(c.a)({},r.payload.userData)});case"SET-IS-LOGGED-OUT":return Object(c.a)(Object(c.a)({},e),{},{isLoggedIn:r.payload.isLoggedIn,userData:Object(c.a)({},_.userData)});case"SET-ERROR":var t=Object(c.a)({},e);return t.userData.error=r.payload.error,t;default:return e}},passwordRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET_STATUS_PASSWORD_RECOVERY":case"SET_ERROR_PASSWORD_RECOVERY":case"SET_EMAIL":return Object(c.a)(Object(c.a)({},e),r.payload);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,r=arguments.length>1?arguments[1]:void 0;return r.type,e},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"CHANGE-STATUS-REGISTRATION":case"SET-ERROR-REGISTRATION":return Object(c.a)(Object(c.a)({},e),r.payload);default:return e}}}),ee=Object(z.c)(X,Object(z.a)(K.a));window.store=ee,s.a.render(Object(v.jsx)(o.a,{store:ee,children:Object(v.jsx)(f.a,{children:Object(v.jsx)(H,{})})}),document.getElementById("root")),$()},8:function(e,r,t){e.exports={wrapper:"Login_wrapper__2ZkLf",title:"Login_title__3lJZC",signIn:"Login_signIn__23srS",formContainer:"Login_formContainer__3ItoS",description:"Login_description__2FVD7",inputWrapper:"Login_inputWrapper__Wj2B4",rememberMe:"Login_rememberMe__2pJq1",forgotPass:"Login_forgotPass__3bytk",mainButton:"Login_mainButton__DcoTP",withoutAcc:"Login_withoutAcc__N3M72",signUp:"Login_signUp__3BiXw",errorMassage:"Login_errorMassage__1dwaw",serverError:"Login_serverError__4dBbj"}},9:function(e,r,t){e.exports={wrapper:"Registration_wrapper__1-jTi",box:"Registration_box__3kZIC",title:"Registration_title__2L5zK",subTitle:"Registration_subTitle__1S3-Y",form:"Registration_form__1JAle",inputWrapper:"Registration_inputWrapper__HOiur",input:"Registration_input__4mr9p",btns:"Registration_btns__2q13J",btn:"Registration_btn__2tGZT",errorInput:"Registration_errorInput__WkCRE",errorBox:"Registration_errorBox__5by_C"}}},[[71,1,2]]]);
//# sourceMappingURL=main.84041757.chunk.js.map